//ajax.js written by ma3uk (https://github.com/ma3uk/ajax)
var ajax={send:function(a){if("object"===typeof a){a.async=a.async||!0;a.dataType=a.dataType||"html";a.data=a.data||!1;a.type=a.type||"GET";var b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.onreadystatechange=function(){"function"===typeof a.beforeSend&&a.beforeSend();4===b.readyState&&200===b.status?"function"===typeof a.success&&("html"===a.dataType&&a.success(b.responseText),"xml"===a.dataType&&a.success(b.responseXML),"json"===a.dataType&&a.success(ajax.parseJSON(b.responseText))):
"function"===typeof a.error&&a.error()};var c=ajax.findArray(["GET","DELETE","POST","PUT"],a.type);!1!==c&&("GET"===a.type?(b.open("GET",a.url+"?"+ajax.toQueryString(a.data),!0),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.send(null)):(b.open(c,a.url,!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.send(ajax.toQueryString(a.data))))}},findArray:function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return b;
return!1},parseJSON:function(a){if("string"!==typeof a||!a||""===a)return null;a=a.replace(/^\s+/,"");a=a.replace(/\s+$/,"");if(window.JSON&&window.JSON.parse)return window.JSON.parse(a);if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(new Function("return "+a))()},toQueryString:function(a){var b="",c,d,e;for(d in a)if(Object.hasOwnProperty.call(a,
d))if(e=a[d],ajax.isArray(a))for(c=0;c<e.length;c++)var f=e[c],b=b+(encodeURIComponent(d)+"="+encodeURIComponent(f)+"&");else c=a[d],b+=encodeURIComponent(d)+"="+encodeURIComponent(c)+"&";return b.replace(/&$/,"").replace(/%20/g,"+")},isArray:function(a){return"object"===typeof a&&a instanceof Array}};